#Concepts

###Distance Vector

"Neighborhood Gossip"

1. RIP
2. EIGRP
3. BGP

###Link State

"The Road Map"

1. OSPF
2. IS-IS



##DV Loop Protection

Loops occur when a network "dies" and a neighborhood router advertises the same network to the router where the dead network used to be directly connected. One hop is added to the distance to the network on all routers participating in the routing protocol (countdown to infinity).

1. Maximum Distances - 16 for RIP
2. Route Poisoning - How a route is killed. Sets a route to an unreachable metric. Protocols were never meant to unadvertise routes, only add routes. Immediately set the hop count to 16. 
3. Triggered updates - When a major event happens, dont wait the 30 seconds (RIP) but immediately
4. Split Horizon - Never advertise a route out of an interface where the route originated from (causes problems with multipoint frame relay)
5. Hold Down Timers - if there is a flapping interface on a neighbourhood router, stop receiving triggered updates from neighbour routers regarding that route. Impacts convergence time.

All running by default

##EIGRP: A hybrid DV protocol. 

Why Choose:

    -Designed by Cisco
    -Backup Routes (convergence/DUAL 
    - diffused update algorithm): add the second and third best routes into the "topology table" and then the routing table if the best path becomes unavailable. Very fast convergence as the calculation has already been performed.
    -Simple configuration (link state doesnt support summarization)
    -Flexibility in summarisation
    -Unequal cost load-balancing - calculates the best metric


###Terms Metrics:

1. Neighbour Table
2. Topology Table
3. Routing Table

###Metrics:

- Feasible Distance (FD) - how far a route is from you.
- Advertised Distance (AD) - how far the route is from your neighbour
- Successor - The best path to a route
- Feasible Successor - The backup path to a route sitting in the topology table
- Active Route - The route is down and EIGRP is trying to find a backup
- Passive Route - unactive routes

**To be considered a feasible successor, the advertised distance must be less than the FD of the successor** - To guard against routing loops


###EIGRP Neighbourhoods

Hello: Forms a relationship on 224.0.0.10

Update: sends routes

Query: Asks about routes

Reply: a response to a query. I.E. no, i dont have a backup route. Route moves to active and is then deleted.

ACK: Acknowledges the messages

###EIGRP Metric Calculations

* Bandwidth (k1 - set to 1 by default)
        | - used by default and are static values.
* Delay (k3 - set to 1 by default) - how long a packet takes to get through the link

* Reliability (k4 and 5)
* Loading (k2)
* MTU (not part of the formula)

###Default Metric: 

256 * (slowest_BW) + Link_delays
BW: 10^7/BW (in kbps)
Delay: in microseconds